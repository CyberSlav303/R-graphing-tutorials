setwd("/Users/pacha/Downloads/20140030_RepMaterials/")
read.csv("muestra2.csv")
x <- c(0.61, 0.93, 0.83, 0.35, 0.54, 0.16, 0.91, 0.62, 0.62)
y <- c(0.67, 0.84, 0.6, 0.18, 0.85, 0.47, 1.1, 0.65, 0.36)
lm(y ~ x -1)
x <- c(0.61, 0.93, 0.83, 0.35, 0.54, 0.16, 0.91, 0.62, 0.62)
y <- c(0.67, 0.84, 0.6, 0.18, 0.85, 0.47, 1.1, 0.65, 0.36)
summary(lm(y ~ x -1))
x <- c(0.61, 0.93, 0.83, 0.35, 0.54, 0.16, 0.91, 0.62, 0.62)
y <- c(0.67, 0.84, 0.6, 0.18, 0.85, 0.47, 1.1, 0.65, 0.36)
summary(lm(y ~ x -1))
0.2207-0.8969
0.9084 - 0.8969
x <- c(0.26, -1.54, 0.42, 0.95)
w <- c(2, 1, 5, 3)
x <- c(0.26, -1.54, 0.42, 0.95)
w <- c(2, 1, 5, 3)
weighted.mean(x,w)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44)
y <- c(1.39, 0.72, 1.55, 0.48, -1.59, 1.23, -0.65, 1.49, 0.05)
lm(y ~ x -1)
data("mtcars")
lm(mpg ~ hp, mtcars)
x <- c(8.58, 10.46, 9.01, 9.64, 8.86)
(x - mean(x))/sd(x)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
mean(x)
library(foreign)
file.choose()
dataset = read.spss("/Users/pacha/Documents/FONDECYT LEIVA/composicion fuerza de trabajo/JJA_UsuariosExternos_2015.sav", to.data.frame=TRUE)
write.dta(dataset, “JJA_UsuariosExternos_2015.dta”)
write.dta(dataset, "JJA_UsuariosExternos_2015.dta")
getwd()
A <- matrix(c(1,0,1,0,1,0,2,1,2,1,2,1,22,2,16,2,19,2,21,22,15,16,18,19,108,21,54,15,72,18,0,108,0,54,0,72),ncol=6,nrow=6)
A
A <- matrix(c(1,0,1,0,1,0,2,1,2,1,2,1,22,2,16,2,19,2,21,22,15,16,18,19,108,21,54,15,72,18,0,108,0,54,0,72),nrow=6,ncol=6)
A
X <- matrix(c(1,0,1,0,1,0,2,1,2,1,2,1,22,2,16,2,19,2,21,22,15,16,18,19,108,21,54,15,72,18,0,108,0,54,0,72),nrow=6,ncol=6)
A <- t(X)
A
inv(A)
X <- matrix(c(1,0,1,0,1,0,2,1,2,1,2,1,22,2,16,2,19,2,21,22,15,16,18,19,108,21,54,15,72,18,0,108,0,54,0,72),nrow=6,ncol=6)
A <- t(X)
solve(A)
b <- c(1,2,0,-1,0,3)
iA <- solve(A)
b <- c(1,2,0,-1,0,3)
iA%*%b
xtable(iA%*%b)
install.packages("xtable")
install.packages("xtable")
X <- matrix(c(1,0,1,0,1,0,2,1,2,1,2,1,22,2,16,2,19,2,21,22,15,16,18,19,108,21,54,15,72,18,0,108,0,54,0,72),nrow=6,ncol=6)
A <- t(X)
iA <- solve(A)
b <- c(1,2,0,-1,0,3)
table(iA%*%b)
xtable(iA%*%b)
library(xtable)
xtable(iA%*%b)
library(xtable)
X <- matrix(c(1,0,1,0,1,0,2,1,2,1,2,1,22,2,16,2,19,2,21,22,15,16,18,19,108,21,54,15,72,18,0,108,0,54,0,72),nrow=6,ncol=6)
A <- t(X)
iA <- solve(A)
b <- c(1,2,0,-1,0,3)
xtable(iA%*%b)
outcomes
library(extrafont)
install.packages("extrafont")
library(extrafont)
download.file("http://simonsoftware.se/other/xkcd.ttf",              +               dest="xkcd.ttf", mode="wb")
download.file("http://simonsoftware.se/other/xkcd.ttf", dest="xkcd.ttf", mode="wb")
p <- ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) + theme(text = element_text(size = 16, family = "xkcd"))
library(ggplot2)
p <- ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) + theme(text = element_text(size = 16, family = "xkcd"))
p
install.packages("xkcd",dependencies = TRUE)
library(xkcd)
xrange <- range(mtcars$mpg)yrange <- range(mtcars$wt)set.seed(123) # for reproducibilityp <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + xkcdaxis(xrange,yrange)p
xrange <- range(mtcars$mpg)
yrange <- range(mtcars$wt)
set.seed(123) # for reproducibility
p <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) + xkcdaxis(xrange,yrange)
help(package="xkcd")
vignette("xkcd-intro")
browseVignettes(package = "xkcd")
xrange <- range(mtcars$mpg)yrange <- range(mtcars$wt)set.seed(123) # for reproducibilityp <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) +      xkcdaxis(xrange,yrange)p
xrange <- range(mtcars$mpg)yrange <- range(mtcars$wt)set.seed(123) # for reproducibilityp <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) +      xkcdaxis(xrange,yrange)p
xrange <- range(mtcars$mpg)
yrange <- range(mtcars$wt)
set.seed(123) # for reproducibilityp <- ggplot() + geom_point(aes(mpg, wt), data=mtcars) +      xkcdaxis(xrange,yrange)p
p
library(extrafont) library(ggplot2) if( 'xkcd' %in% fonts()) {   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +      theme(text = element_text(size = 16, family = "xkcd")) } else  {   warning("Not xkcd fonts installed!")   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars)  } p
library(extrafont) library(ggplot2) if( 'xkcd' %in% fonts()) {   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +      theme(text = element_text(size = 16, family = "xkcd")) } else  {   warning("Not xkcd fonts installed!")   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars)  } p
library(extrafont) library(ggplot2) if( 'xkcd' %in% fonts()) {   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +      theme(text = element_text(size = 16, family = "xkcd")) } else  {   warning("Not xkcd fonts installed!")   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars)  } p
library(xkcd)
if( 'xkcd' %in% fonts()) {   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +      theme(text = element_text(size = 16, family = "xkcd")) } else  {   warning("Not xkcd fonts installed!")   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars)  } p
if( 'xkcd' %in% fonts()) {
p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +
theme(text = element_text(size = 16, family = "xkcd"))
} else  {   warning("Not xkcd fonts installed!")   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars)  }
library(extrafont) library(ggplot2) if( 'xkcd' %in% fonts()) {   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +      theme(text = element_text(size = 16, family = "xkcd")) } else {   warning("Not xkcd fonts installed!")   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars)  } p
library(extrafont) library(ggplot2) if( 'xkcd' %in% fonts()) {   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars) +      theme(text = element_text(size = 16, family = "xkcd")) } else {   warning("Not xkcd fonts installed!")   p <-  ggplot() + geom_point(aes(x=mpg, y=wt), data=mtcars)  } p
x <- c(1,2,3)
y <- c(-1,-2,-3)
x+y
x+y
x
t(x)
z <- rbind(x,y)
z
A <-  matrix(z,ncol=3,nrow=2)
A
A <-  matrix(rbind(x,y),ncol=3,nrow=2)
A
c(seq(1:9))
B <- matrix(c(seq(1:9)),,ncol=3,nrow=3)
B
B <- matrix(c(seq(1:9)),nrow=3,ncol=3)
B
B <- matrix(c(seq(1:18,2)),nrow=3,ncol=3)
B <- matrix(c(seq(1:18)),nrow=3,ncol=3)
B
seq(1:20)
B <- matrix(c(seq(1:9)),nrow=3,ncol=3)
C <- matrix(c(seq(2,20,3)),nrow=3,ncol=3)
seq(2,20,3)
C <- matrix(c(seq(2,25,3)),nrow=3,ncol=3)
eq(2,25,3)
seq(2,25,3)
C <- matrix(c(seq(2,26,3)),nrow=3,ncol=3)
C
data(mtcars)
str(mtcars)
View(mtcars)
cor(mtcars)
fit <- lm(hp ~ cyl, mtcars)
fit
summary(fit)
fit <- lm(mpg ~ cyl + wt, mtcars)
fit <- lm(mpg ~ cyl + wt, mtcars)
summary(fit)
cor(mtcars)
cor(mpg ~ ., mtcars)
cor(mpg ~ .)
cor(mtcars$mpg,mtcars$cyl)
cor(mtcars$mpg,mtcars$.)
cor(mtcars)
aov(mpg ~ ., mtcars)
analisis <- aov(mpg ~ ., mtcars)
summary(analisis)
fit <- lm(mpg ~ cyl + disp + wt, mtcars)
summary(fit)
library(UsingR); data(galton); library(reshape); long <- melt(galton)
g <- ggplot(long, aes(x = value, fill = variable))
g <- g + geom_histogram(colour = "black", binwidth=1)
g <- g + facet_grid(. ~ variable)
g
library(UsingR); data(galton)
library(manipulate)
myHist <- function(mu){
mse <- mean((galton$child - mu)^2)
g <- ggplot(galton, aes(x = child)) + geom_histogram(fill = "royalblue", colour = "black", binwidth=1)
g <- g + geom_vline(xintercept = mu, size = 2, colour = "red")
g <- g + ggtitle(paste("mu = ", mu, ", MSE = ", round(mse, 2), sep = ""))
g
}
manipulate(myHist(mu), mu = slider(62, 74, step = 0.5))
library(UsingR); data(galton)
library(dplyr)
library(manipulate)
y <- galton$child - mean(galton$child)
x <- galton$parent - mean(galton$parent)
freqData <- as.data.frame(table(x, y))
names(freqData) <- c("child", "parent", "freq")
freqData$child <- as.numeric(as.character(freqData$child))
freqData$parent <- as.numeric(as.character(freqData$parent))
myPlot <- function(beta){
g <- ggplot(filter(freqData, freq > 0), aes(x = parent, y = child))
g <- g  + scale_size(range = c(2, 20), guide = "none" )
g <- g + geom_point(colour="grey50", aes(size = freq, show_guide = FALSE))
g <- g + geom_point(aes(colour=freq, size = freq))
g <- g + scale_colour_gradient(low = "royalblue", high="lightblue")
g <- g + geom_abline(intercept = 0, slope = beta, size = 3)
mse <- mean( (y - beta * x) ^2 )
g <- g + ggtitle(paste("beta = ", beta, "mse = ", round(mse, 3)))
g
}
manipulate(myPlot(beta), beta = slider(0, 1.2, step = 0.05))
View(galton)
lm(I(child - mean(child)) ~ I(parent - mean(parent)) - 1, data = galton)
lm(child ~ parent, galton)
lm(I(child - mean(child)) ~ I(parent - mean(parent)), galton)
library(extrafont)
install.packages("extrafont")
font_import(pattern="[X/x]kcd")
library(extrafont)
font_import(pattern="[X/x]kcd")
fonts()
font_import(pattern="[O/o]fficina")
fonts()
require(cowplot)
require(grid) # for unit()
theme_set(theme_cowplot(font_size=12)) # reduce default font size
p1 <- ggplot(mtcars, aes(mpg, disp)) + geom_line(colour = "blue")
ggdraw(switch_axis_position(p1 + theme_gray(), axis = 'y'))
x <- c(seq(0,4,0.01))
x
int(x)
integer(x)
integer(x,0)
as.integer(x)
y <- x - as.integer(x)
plot(x,y)
x <- c(seq(0,4,0.1))
y <- x - as.integer(x)
plot(x,y)
x <- c(seq(0,4,0.5))
y <- x - as.integer(x)
plot(x,y)
x <- c(seq(0,4,0.5))
y <- x - as.integer(x)
plot(x,y)
x <- c(seq(0,4,0.05))
y <- x - as.integer(x)
plot(x,y)
library(ggthemes)
library(extrafont)
font_import(pattern="[A/a]tlas")
font_import(pattern="[A/a]tlas")
charts.data <- read.csv("charts.csv")
charts.data <- charts.data[charts.data$product == "copper",]
library(ggplot2)
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data)
p6
setwd("/Users/pacha/R-graphing-tutorials/")
charts.data <- read.csv("charts.csv")
charts.data <- charts.data[charts.data$product == "copper",]
library(ggplot2)
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data)
p6
charts.data$year <- as.numeric(charts.data$year)
charts.data$export <- as.numeric(charts.data$export)
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data)
p6
p6 <- ggplot() + geom_point(shape=1, data = charts.data)
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data)
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data) + geom_smooth()
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data) + geom_smooth(data = charts.data)
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data) + geom_smooth(aes(y = export, x = year), data = charts.data)
p6
charts.data <- read.csv("charts.csv")
charts.data <- charts.data[charts.data$product == "copper",]
library(ggplot2)
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data) + geom_smooth(aes(y = export, x = year), data = charts.data)
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data) + geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm')
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data) + geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE)
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), shape=1, data = charts.data) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), data = charts.data) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), data = charts.data, shape=2) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), data = charts.data, shape=3) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), data = charts.data, shape=4) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), data = charts.data, shape=2, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year), data = charts.data, shape=1, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export), data = charts.data, shape=1, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export), data = charts.data, shape=2, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export), data = charts.data, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, colour = export), data = charts.data, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, colour = 'red'), data = charts.data, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, colour = 'red'), data = charts.data, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, colour = 'red'), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, colour = 'red'), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = 2*export, colour = 'red'), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = I(2*export), colour = 'red'), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, colour = 'red'), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
charts.data <- read.csv("charts.csv")
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, factor(cyl)), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
charts.data <- read.csv("charts.csv")
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, factor(export)), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
View(charts.data)
charts.data <- read.csv("charts.csv")
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, factor(product)), data = charts.data, fill = 'red', show_guide = FALSE) +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
p6 <- ggplot() + geom_point(aes(y = export, x = year, size = export, factor(product)), data = charts.data, fill = 'red') +
geom_smooth(aes(y = export, x = year), data = charts.data, method = 'lm', se = FALSE, colour = 'blue', size = 1.5) +
scale_x_continuous(breaks=seq(2006,2014,1)) +
ggtitle("Copper exports to China ($)") + labs(x="Year", y="USD million")
p6
